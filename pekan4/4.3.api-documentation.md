# Pekan 4 - Hari 21: Dokumentasi API (Swagger)

**HARI KE-21** â€“ Manual Book untuk Frontend
**Fokus hari ini:** Membuat dokumentasi agar Frontend Developer tidak bingung cara pakai API kita.

---

## 1. Pilihan Dokumentasi

1.  **Postman Documentation:** Mudah, tinggal klik "Publish" di Postman.
2.  **Swagger (OpenAPI):** Standar industri. Kode mendefinisikan dokumen.

Kita coba cara **Swagger UI** sederhana dengan `swagger-ui-express`.

### Install
```bash
npm install swagger-ui-express yamljs @types/swagger-ui-express @types/yamljs
```

---

## 2. Buat File Spesifikasi (YAML)

Buat file `api-spec.yaml` di root folder.

```yaml
openapi: 3.0.0
info:
  title: E-Commerce API
  version: 1.0.0
  description: API Toko Online Sederhana
servers:
  - url: http://localhost:3000/api
paths:
  /products:
    get:
      summary: Ambil semua produk
      parameters:
        - name: page
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: Berhasil
    post:
      summary: Tambah produk
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                price:
                  type: number
      responses:
        '201':
          description: Created
```

---

## 3. Pasang di Express

Di `src/index.ts`:

```ts
import swaggerUi from 'swagger-ui-express';
import YAML from 'yamljs';

const swaggerDocument = YAML.load('./api-spec.yaml');

app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument));
```

Sekarang buka `http://localhost:3000/api-docs`. Muncul halaman dokumentasi interaktif!

---

## 4. Tugas Harian Hari Ke-21

**Misi:** Dokumentasikan 3 Endpoint utama kamu.

1.  **Setup Swagger:** Install dan config.
2.  **Tulis YAML:** Dokumentasikan endpoint:
    - `GET /products`
    - `POST /auth/login`
    - `POST /checkout`
3.  **Coba:** Buka browser, coba "Try it out" di halaman Swagger.

**Checklist:**
- [ ] Halaman `/api-docs` bisa dibuka.
- [ ] Endpoint yang didokumentasikan bisa di-test dari situ.

---

**Tips:** Dokumentasi yang baik mengurangi pertanyaan "Mas, ini parameternya apa ya?" dari tim Frontend. ðŸ“–
