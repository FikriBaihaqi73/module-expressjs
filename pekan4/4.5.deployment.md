# Pekan 4 - Hari 23: Deployment (Railway/Vercel)

**HARI KE-23** â€“ Go Public!
**Fokus hari ini:** Mengonlinekan aplikasi agar bisa diakses seluruh dunia.

---

## 1. Persiapan Deployment

1.  **Build Script:** Pastikan di `package.json` ada:
    ```json
    "scripts": {
      "build": "tsc",
      "start": "node dist/index.js"
    }
    ```
2.  **Environment:** Pastikan aplikasi membaca `process.env.PORT`.

---

## 2. Pilihan Cloud Gratis

- **Railway.app:** Paling mudah untuk Backend + Database (Postgres).
- **Render.com:** Bagus, ada free tier.
- **Vercel:** Bagus untuk Serverless (Next.js), bisa juga untuk Express tapi perlu config `vercel.json`.

### Cara Deploy di Railway (Rekomendasi)

1.  Push kode ke **GitHub**.
2.  Buka [Railway.app](https://railway.app/), login GitHub.
3.  "New Project" -> "Deploy from GitHub repo".
4.  Pilih repo kamu.
5.  **Add Database:** Tambahkan service PostgreSQL di project Railway yang sama.
6.  **Variables:** Di tab "Variables" aplikasi Express kamu, masukkan:
    - `DATABASE_URL`: (Copy dari service Postgres Railway).
    - `JWT_SECRET`: Isi bebas.
    - `PORT`: Railway biasanya otomatis set, atau isi 3000.
7.  **Build & Deploy:** Railway akan otomatis install & build.

---

## 3. Tugas Harian Hari Ke-23

**Misi:** Buat URL API kamu bisa diakses temanmu.

1.  **Push GitHub:** Pastikan kode terbaru sudah di repo.
2.  **Deploy:** Gunakan Railway/Render.
3.  **Migrasi DB Production:**
    - Di Railway, kamu perlu jalankan `npx prisma migrate deploy` di command build/start, atau connect local terminal ke remote DB railway lalu migrate.
    - Cara termudah: Tambahkan di `package.json` scripts:
      `"postinstall": "prisma generate"`
      Dan set Start Command di Railway: `npx prisma migrate deploy && node dist/index.js`
4.  **Test:** Akses URL public (misal: `https://my-api.railway.app/api/products`).

**Checklist:**
- [ ] Aplikasi "Active" di dashboard cloud.
- [ ] Database Production terisi tabel.
- [ ] URL public bisa diakses.

---

**Tips:** "It works on my machine" tidak berlaku lagi. Kalau jalan di server, baru sah! ðŸš€
