# Pekan 4 - Hari 24: Evaluasi Akhir - Perpustakaan Digital (Production Ready)

**HARI KE-24** â€“ The Final Boss
**Tujuan:** Membawa project **Perpustakaan Digital** dari Pekan 3 ke level production dengan dokumentasi lengkap, testing, dan deployment.

---

## ğŸ¯ Objektif Evaluasi

Melanjutkan project **Perpustakaan** dari evaluasi Pekan 3. Fokus utama adalah pada **Reliability (Testing)**, **Scalability (Advanced Query)**, dan **Accessibility (API Doc & Deployment)**.

Evaluasi ini akan menguji sejauh mana aplikasi kamu siap untuk digunakan di dunia nyata.

---

## ğŸ“ Instruksi Tugas

Kamu diminta untuk melakukan **Final Upgrade** pada aplikasi backend Perpustakaan kamu.

### 1. Advanced Query & Analytics (Materi Hari 20)
- **Filtering & Search Lanjut:**
  - `GET /books`: Bisa filter berdasarkan kategori (multiple), ketersediaan stok, dan rentang tahun terbit.
  - `GET /borrow-records`: (Admin) Bisa filter berdasarkan rentang tanggal peminjaman, status (pinjam/kembali), dan nama member.
- **Analytics (Simple Aggregation):**
  - Buat endpoint baru `GET /admin/stats` untuk menampilkan:
    - Total buku yang tersedia.
    - Total transaksi peminjaman yang sedang aktif (belum dikembalikan).
    - Buku yang paling populer (paling banyak dipinjam).

### 2. API Documentation (Materi Hari 21)
- Seluruh endpoint wajib didokumentasikan menggunakan **Swagger (OpenAPI 3.0)**.
- Dokumentasi harus mencakup:
  - Deskripsi singkat fungsi endpoint.
  - Parameter (Query, Path, Body).
  - Skema autentikasi (Authorization Bearer Token).
  - Contoh Response Success (200/201) dan Error (400/401/404/500).

### 3. Unit Testing (Materi Hari 22)
- Implementasikan Unit Test menggunakan **Jest** dan **Supertest**.
- Pilih **minimal 3 endpoint** utama untuk diuji (contoh: Login, Add Book, dan Process Borrowing).
- Setiap endpoint minimal harus memiliki 2 test case:
  - **Happy Path:** Skenario sukses.
  - **Negative Path:** Skenario gagal (misal: validasi salah atau stok habis).

### 4. Deployment (Materi Hari 23)
- Deploy aplikasi backend kamu ke platform cloud seperti **Railway**, **Render**, atau **Fly.io**.
- Pastikan database (PostgreSQL) juga terhubung secara online.
- Update README.md di github kamu dengan **URL Live API** yang bisa diakses.

---

## ğŸŒŸ Nilai Tambah: Refactor to OOP (Materi Hari 19)
Dapatkan nilai tambahan signifikan jika kamu merombak arsitektur fungsional menjadi **Object-Oriented Programming (OOP)** secara menyeluruh:
- Gunakan **Class** untuk Controller, Service, dan Repository.
- Implementasikan **Dependency Injection** (melemparkan instance repository ke service, service ke controller via constructor).
- Gunakan akses modifier (private/public) dengan tepat.

---

## ğŸ“‹ Kriteria Penilaian (Total: 100 Poin)

| Kategori | Bobot | Detail Penilaian |
| :--- | :---: | :--- |
| **Advanced Query** | **25** | Filter kompleks pada buku & history berjalan lancar + Endpoint Stats (10) |
| **API Documentation** | **25** | Seluruh endpoint terdaftar di Swagger UI dengan spec yang akurat (10) |
| **Unit Testing** | **25** | Test case berjalan sukses dan meng-cover logika bisnis utama (10) |
| **Deployment** | **15** | Link live API dikirimkan dan bisa diuji lewat Postman (5) |
| **Bonus: Code Quality** | **10** | (Opsional) Refactor ke OOP bersih dan menggunakan DI (5) |

---

## ğŸš€ Langkah Pengerjaan
1.  **Refactor & OOP (Optional):** Jika ingin nilai tambah, mulailah dengan merubah struktur fungsi menjadi method dalam Class.
2.  **Advanced Query:** Tambahkan logika filter canggih di level Repository dan Service.
3.  **Swagger:** Install `swagger-jsdoc` dan tambahkan anotasi dokumentasi di setiap route/controller.
4.  **Testing:** Buat file `.test.ts` dan pastikan logic transaksi (peminjaman) berjalan sesuai harapan.
5.  **Deployment:** Push ke GitHub, koneksikan ke Railway/Render, dan setup env variables.

---

**Deadline: Minggu Pukul 23:59 WIB**
Tunjukkan bahwa kamu siap menjadi Backend Developer Professional! ğŸš€ğŸ”¥
